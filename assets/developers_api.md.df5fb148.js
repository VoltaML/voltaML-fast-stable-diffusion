import{_ as e,o as a,c as n,Q as s}from"./chunks/framework.c44c5b88.js";const m=JSON.parse('{"title":"API","description":"","frontmatter":{},"headers":[],"relativePath":"developers/api.md","filePath":"developers/api.md","lastUpdated":1698846653000}'),o={name:"developers/api.md"},t=s(`<h1 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h1><p>This is a guide to running this project with PyTorch only configuration for API development.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><ul><li><strong>Operating system:</strong> Windows or Linux</li><li><strong>Graphics card:</strong> NVIDIA GPU with CUDA support</li><li><strong>Driver version:</strong> 515+</li></ul><p>If you are running on Linux, you will need to install CUDA by following the instructions <a href="https://developer.nvidia.com/cuda-11-8-0-download-archive" target="_blank" rel="noreferrer">here</a> or if you are on Ubuntu, in the <code>Software &amp; Updates</code> manager.</p><h2 id="running-locally" tabindex="-1">Running locally <a class="header-anchor" href="#running-locally" aria-label="Permalink to &quot;Running locally&quot;">​</a></h2><h3 id="_1-clone-the-repository" tabindex="-1">1. Clone the repository <a class="header-anchor" href="#_1-clone-the-repository" aria-label="Permalink to &quot;1. Clone the repository&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro has-diff"><code><span class="line"><span style="color:#61AFEF;">git</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">clone</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https://github.com/VoltaML/voltaML-fast-stable-diffusion.git</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--branch</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">experimental</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-move-into-the-project-directory" tabindex="-1">2. Move into the project directory <a class="header-anchor" href="#_2-move-into-the-project-directory" aria-label="Permalink to &quot;2. Move into the project directory&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro has-diff"><code><span class="line"><span style="color:#56B6C2;">cd</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">voltaML-fast-stable-diffusion</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-set-up-environmental-variables" tabindex="-1">3. Set up environmental variables <a class="header-anchor" href="#_3-set-up-environmental-variables" aria-label="Permalink to &quot;3. Set up environmental variables&quot;">​</a></h3><p>Optional variables:</p><ul><li><code>HUGGINGFACE_TOKEN</code></li><li><code>DISCORD_BOT_TOKEN</code></li><li><code>FASTAPI_ANALYTICS_KEY</code></li><li><code>LOG_LEVEL</code></li></ul><p>Refer to the <a href="https://github.com/VoltaML/voltaML-fast-stable-diffusion/blob/experimental/.env" target="_blank" rel="noreferrer">.env</a> file to see supported values with links and guides on how to obtain them.</p><hr><h4 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h4><p>Please read <a href="https://www.architectryan.com/2018/08/31/how-to-change-environment-variables-on-windows-10/" target="_blank" rel="noreferrer">this guide</a> to learn how to set up environmental variables on Windows.</p><p>Variables that are stored there are persistent and will be available after restarting your computer.</p><hr><h4 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">VARIABLE_NAME</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">VARIABLE_VALUE</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">PERSISTANCE</p><p>You can also add the following line to your <code>~/.bashrc</code> file to make the variable persistent (or <code>~/.zshrc</code> if you are using ZSH).</p></div><h3 id="_4-create-virtual-environment-to-keep-dependencies-isolated" tabindex="-1">4. Create virtual environment to keep dependencies isolated <a class="header-anchor" href="#_4-create-virtual-environment-to-keep-dependencies-isolated" aria-label="Permalink to &quot;4. Create virtual environment to keep dependencies isolated&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you are using Linux, you might need to install <code>python3-virtualenv</code> package. <br><br><code>sudo apt install python3-virtualenv</code><br><br></p><p>For Windows users, run this command: <br><br><code>pip install virtualenv</code></p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you are running Linux, you might need to use <code>python3</code> instead of <code>python</code>.</p></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">python</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-m</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">virtualenv</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">venv</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-activate-virtual-environment" tabindex="-1">5. Activate Virtual environment <a class="header-anchor" href="#_5-activate-virtual-environment" aria-label="Permalink to &quot;5. Activate Virtual environment&quot;">​</a></h3><br><h4 id="windows-1" tabindex="-1">Windows <a class="header-anchor" href="#windows-1" aria-label="Permalink to &quot;Windows&quot;">​</a></h4><div class="language-powershell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">.\\venv\\Scripts\\activate.ps1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">or</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">.\\venv\\Scripts\\</span><span style="color:#56B6C2;">activate.bat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="linux-1" tabindex="-1">Linux <a class="header-anchor" href="#linux-1" aria-label="Permalink to &quot;Linux&quot;">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#56B6C2;">source</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">venv/bin/activate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_6-run-the-main-py-file-it-will-install-dependencies-automatically" tabindex="-1">6. Run the <code>main.py</code> file (it will install dependencies automatically) <a class="header-anchor" href="#_6-run-the-main-py-file-it-will-install-dependencies-automatically" aria-label="Permalink to &quot;6. Run the \`main.py\` file (it will install dependencies automatically)&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you are running Linux, you might need to use <code>python3</code> instead of <code>python</code>.</p></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">python</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.py</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-access-the-api-documentation-to-see-if-everything-is-working" tabindex="-1">7. Access the API documentation to see if everything is working <a class="header-anchor" href="#_7-access-the-api-documentation-to-see-if-everything-is-working" aria-label="Permalink to &quot;7. Access the API documentation to see if everything is working&quot;">​</a></h3><p>You should now see that the WebUI is running on <code>http://localhost:5003/</code>.</p><hr><p>There is also an interactive documentation for the API available at <code>http://localhost:5003/api/docs</code>.</p>`,39),i=[t];function l(r,p,c,d,u,h){return a(),n("div",null,i)}const v=e(o,[["render",l]]);export{m as __pageData,v as default};
